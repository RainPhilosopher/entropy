{"version":3,"file":"build/entropy.min.js","sources":["build/entropy.js"],"names":["global","isString","val","String","app","VERSION","Entropy","getVersion","Engine","game","_can_modify","this","_greatest_e_id","_e_ids_to_reuse","_entities","_current_e_id","_entities_count","_components","_component_pool","_component_pool_size","_systems","OrderedLinkedList","_updating","_entities_map","_families","none","_entity_family_map","i","_next_c_id","_component_manifest","_system_manifest","component","name","Game","error","system","prototype","canModify","createEntity","family","families","split","length","id","pop","max","f","push","removeEntity","e_id","component_id","_name","e_f_id","indexOf","splice","removeAllEntities","add","args","Array","slice","call","arguments","c_name","c_id","new_c","toLowerCase","init","apply","_e_id","remove","getComponents","c_array","c_matched","len","temp","len2","getEntity","getEntitiesWith","e_matched","found","getAllEntities","map","entity","getFamily","log","addSystem","priority","insert","removeSystem","isUpdating","removeAllSystems","clear","isSystemActive","node","head","data","next","update","delta","event","getComponentPoolSize","starting_state","input","engine","ticker","addListener","changeState","_consts","_states","dummy","onEnter","onReturn","onExit","_current_state","_entered_states","_e_patterns","addState","state_obj","entityPattern","obj","pattern","message","console","Error","join","constans","value","toUpperCase","hasOwnProperty","Object","defineProperty","unshift","setRenderer","renderer","setStage","stage","create","start","pause","resume","Input","_pressed_keys","window","addEventListener","e","keyCode","_keys","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","PAUSE_BREAK","CAPS_LOCK ","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","INSERT","DELETE","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","LEFT_WINDOW_KEY","RIGHT_WINDOW_KEY","SELECT_KEY","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","MULTIPLY","ADD","SUBTRACT","DECIMAL_POINT","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F11","F12","NUM_LOCK","SCROLL_LOCK","SEMI_COLON","EQUAL_SIGN","COMMA","DASH","PERIOD","FORWARD_SLASH","GRAVE_ACCENT","OPEN_BRACKET","BACK_SLASH","CLOSE_BRACKET","SINGLE_QUOTE","isPressed","getPressedKeys","keys","tail","Node","append","current","iterate","fn","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","setTimeout","clearTimeout","performance","now","nowOffset","timing","navigationStart","Ticker","tick","time","raf","_paused","is_running","last_time_value","MAX_FRAME_TIME","FPS","ticks","_ticks","paused","callbacks","_raf_id","setFPS","fps","getFPS","getTicks","that","Vector","coords","toString","y","updatePolarCoords","angle","updateCartCoords","v","rotate","newAngle","fullAngles","abs","floor","vector","returnNew","scale","scalar","setAngle","truncate","desiredLength","normalize","substract","dot","reverseX","reverseY","reverseBoth","angleBetween","negate","clone","sqrt","pow","atan2","PI","cos","sin","debug"],"mappings":"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"}