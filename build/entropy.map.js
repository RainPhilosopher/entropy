{"version":3,"file":"build/entropy.min.js","sources":["build/entropy.js"],"names":["global","isString","val","String","app","VERSION","Entropy","getVersion","Easing","Linear","In","t","b","c","d","Quadratic","Out","InOut","Cubic","Quartic","Quintic","Sine","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Engine","game","_can_modify","this","_greatest_e_id","_e_ids_to_reuse","_entities","_current_e_id","_entities_count","_components","_component_pool","_component_pool_size","_systems","OrderedLinkedList","_updating","_entities_map","_families","none","_entity_family_map","_entities_to_remove","i","_next_c_id","_component_manifest","_system_manifest","component","name","Game","error","system","hasOwnProperty","prototype","canModify","createEntity","family","id","families","split","length","pop","_e_id","max","f","push","removeEntity","e_id","c_name","_name","remove","e_f_id","indexOf","splice","removeAllEntities","add","new_c","args","c_id","Array","slice","call","arguments","toLowerCase","init","apply","markForRemoval","unshift","getComponents","c_array","c_matched","len","temp","len2","getEntity","getEntitiesWith","e_matched","found","getAllEntities","map","entity","getFamily","addSystem","priority","insert","removeSystem","isUpdating","removeAllSystems","clear","isSystemActive","node","head","data","next","update","delta","event","afterUpdate","getComponentPoolSize","starting_state","input","engine","ticker","addListener","changeState","_consts","_states","dummy","onEnter","onReturn","onExit","_current_state","_entered_states","_e_patterns","addState","state_obj","entityPattern","obj","pattern","log","message","console","Error","join","constans","value","toUpperCase","Object","defineProperty","setRenderer","renderer","setStage","stage","create","start","pause","resume","Input","_pressed_keys","window","addEventListener","e","keyCode","_keys","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","PAUSE_BREAK","CAPS_LOCK ","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","INSERT","DELETE","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","LEFT_WINDOW_KEY","RIGHT_WINDOW_KEY","SELECT_KEY","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","MULTIPLY","ADD","SUBTRACT","DECIMAL_POINT","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUM_LOCK","SCROLL_LOCK","SEMI_COLON","EQUAL_SIGN","COMMA","DASH","PERIOD","FORWARD_SLASH","GRAVE_ACCENT","OPEN_BRACKET","BACK_SLASH","CLOSE_BRACKET","SINGLE_QUOTE","_mouse_position","x","y","isPressed","getPressedKeys","keys","setMouseStagePosition","position","getMouseStagePosition","tail","Node","append","current","iterate","fn","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","setTimeout","clearTimeout","performance","now","nowOffset","timing","navigationStart","Ticker","tick","time","raf","_paused","is_running","last_time_value","MAX_FRAME_TIME","FPS","ticks","_ticks","paused","callbacks","_raf_id","setFPS","fps","getFPS","getTicks","that","degToRad","degrees","radToDeg","radians","Vector","coords","toString","updatePolarCoords","angle","rotate","updateCartCoords","v","return_new","rotateRad","vector","scale","scalar","setAngle","getRadAngle","truncate","desiredLength","normalize","substract","dot","reverseX","reverseY","reverseBoth","minAngleTo","negate","clone","atan2","debug"],"mappings":"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"}