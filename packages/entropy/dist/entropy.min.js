var Entropy=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=51)}([function(t,e,r){"use strict";function n(t,e){if(void 0===e)return t;if(S(e))return(S(t)?t:[]).concat(e);if(!s(e))return e;for(var r=o(t)?t:{},i=Object.keys(e),u=0;u<i.length;u+=1){var a=i[u],c=e[a];if(void 0!==c){var f=r[a],h=s(f)||S(c)?f:{};r[a]=n(h,c)}}return r}function i(t){return"function"==typeof t}function o(t){var e=void 0===t?"undefined":w(t);return!!t&&("object"===e||"function"===e)}function s(t){return!!t&&"object"===(void 0===t?"undefined":w(t))&&Object.getPrototypeOf(t)===Object.prototype}function u(){var t=O.apply([],arguments).filter(i);return 0===t.length?void 0:t}function a(t,e,r){if(S(e)){var n=e.length,o=t[r]||[];t[r]=o;for(var s=0;s<n;s+=1){var u=e[s];i(u)&&o.indexOf(u)<0&&o.push(u)}}}function c(t,e,r,n){o(e[r])&&(o(t[r])||(t[r]={}),n(t[r],e[r]))}function f(t,e,r){c(t,e,r,x)}function h(t,e,r){c(t,e,r,j)}function p(t){return function e(r){for(var n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];var s=Object.create(t.methods||null);if(x(s,t.deepProperties),j(s,t.properties),Object.defineProperties(s,t.propertyDescriptors||{}),!t.initializers||0===t.initializers.length)return s;void 0===r&&(r={});for(var u=t.initializers,a=u.length,c=0;c<a;c+=1){var f=u[c];if(i(f)){var h=f.call(s,r,{instance:s,stamp:e,args:[r].concat(n)});s=void 0===h?s:h}}return s}}function d(t,e){var r=p(t);x(r,t.staticDeepProperties),j(r,t.staticProperties),Object.defineProperties(r,t.staticPropertyDescriptors||{});var n=i(r.compose)?r.compose:e;return r.compose=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n.apply(this,t)},j(r.compose,t),r}function l(t,e){var r=e&&e.compose||e;return o(r)?(h(t,r,"methods"),h(t,r,"properties"),f(t,r,"deepProperties"),h(t,r,"propertyDescriptors"),h(t,r,"staticProperties"),f(t,r,"staticDeepProperties"),h(t,r,"staticPropertyDescriptors"),h(t,r,"configuration"),f(t,r,"deepConfiguration"),a(t,r.initializers,"initializers"),t):t}function y(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return d([this].concat(t).filter(o).reduce(l,{}),y)}function m(t){return i(t)&&i(t.compose)}function v(t,e){return function(){for(var r=arguments.length,n=Array(r);r--;)n[r]=arguments[r];return(this&&this.compose||b).call(this,(i={},i[t]=e.apply(void 0,[{}].concat(n)),i));var i}}function _(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return(this&&this.compose||b).call(this,{initializers:u.apply(void 0,t)})}function g(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return(this&&this.compose||b).call(this,{composers:u.apply(void 0,t)})}function b(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=t.filter(o).map(function(t){return m(t)?t:A(t)}),n=y.apply(this||k,r),s=n.compose.deepConfiguration&&n.compose.deepConfiguration.composers;if(S(s)&&s.length>0){for(var u=[],a=0;a<s.length;a+=1){var c=s[a];i(c)&&u.indexOf(c)<0&&u.push(c)}n.compose.deepConfiguration.composers=u,m(this)&&r.unshift(this);for(var f=0;f<u.length;f+=1){var h=u[f],p=h({stamp:n,composables:r});n=m(p)?p:n}}return n}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var x=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e.reduce(n,t)},j=Object.assign,S=Array.isArray,O=Array.prototype.concat,A=function(t){void 0===t&&(t={});var e=t.methods,r=t.properties,n=t.props,i=t.refs,s=t.initializers,c=t.init,f=t.composers,h=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,l=t.staticProperties,y=t.statics,m=t.staticDeepProperties,v=t.deepStatics,_=t.staticPropertyDescriptors,g=t.configuration,b=t.conf,w=t.deepConfiguration,S=t.deepConf,O=o(n)||o(i)||o(r)?j({},n,i,r):void 0,A=o(p)?x({},p):void 0;A=o(h)?x(A,h):A;var P=o(y)||o(l)?j({},y,l):void 0,M=o(v)?x({},v):void 0;M=o(m)?x(M,m):M;var E=o(b)||o(g)?j({},b,g):void 0,C=o(S)?x({},S):void 0;C=o(w)?x(C,w):C;var F=u(c,s),T=u(f);T&&(C=C||{},a(C,T,"composers"));var z={};return e&&(z.methods=e),O&&(z.properties=O),F&&(z.initializers=F),A&&(z.deepProperties=A),P&&(z.staticProperties=P),e&&(z.methods=e),M&&(z.staticDeepProperties=M),d&&(z.propertyDescriptors=d),_&&(z.staticPropertyDescriptors=_),E&&(z.configuration=E),C&&(z.deepConfiguration=C),z},P=v("methods",j),M=v("properties",j),E=v("deepProperties",x),C=v("staticProperties",j),F=v("staticDeepProperties",x),T=v("configuration",j),z=v("deepConfiguration",x),D=v("propertyDescriptors",j),I=v("staticPropertyDescriptors",j),R={methods:P,properties:M,refs:M,props:M,initializers:_,init:_,composers:g,deepProperties:E,deepProps:E,staticProperties:C,statics:C,staticDeepProperties:F,deepStatics:F,configuration:T,conf:T,deepConfiguration:z,deepConf:z,propertyDescriptors:D,staticPropertyDescriptors:I},k=y({staticProperties:R},{staticProperties:{create:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.apply(void 0,t)},compose:b}}),q=b.bind();b.compose=q;var U=j(b,R);e.methods=P,e.properties=M,e.refs=M,e.props=M,e.initializers=_,e.init=_,e.composers=g,e.deepProperties=E,e.deepProps=E,e.staticProperties=C,e.statics=C,e.staticDeepProperties=F,e.deepStatics=F,e.configuration=T,e.conf=T,e.deepConfiguration=z,e.deepConf=z,e.propertyDescriptors=D,e.staticPropertyDescriptors=I,e.compose=q,e.default=U,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.prototype.toString,i=(e.toLowerFirstCase=function(t){return t[0].toLowerCase()+t.slice(1)},e.isFunction=function(t){return"[object Function]"===n.call(t)},e.isString=function(t){return"[object String]"===n.call(t)});e.isArray=function(t){return Array.isArray(t)},e.isObject=function(t){return"[object Object]"===n.call(t)},e.isNonEmptyString=function(t){return i(t)&&""!==t}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(32),o="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,s=i||o||Function("return this")();t.exports=s},function(t,e,r){"use strict";var n=Array.isArray;t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=o(t,e);return i(r)?r:void 0}var i=r(70),o=r(75);t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=(0,o.default)({init:function(){this._events={},this._responding=!0},methods:{on:function(t,e,r){this._events[t]=this._events[t]||[],this._events[t].push({fn:e,once:r})},once:function(t,e){this.on(t,e,!0)},emit:function(t){if(this._responding&&t in this._events){for(var e=this._events[t],r=0,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(;r<e.length;){var s=this._events[t][r];if(!1===s.fn.apply(s,i)||s.once){for(var u=r;u<e.length;)e[u]=e[++u];e.length-=1}else r+=1}}},off:function(t,e){this._events[t]=this._events[t].filter(function(t){return(0,n.isFunction)(e)&&t.fn!==e})},stopResponding:function(){this._responding=!1},startResponding:function(){this._responding=!0}}});e.default=s},function(t,e,r){"use strict";function n(t){return null==t?void 0===t?a:u:c&&c in Object(t)?o(t):s(t)}var i=r(13),o=r(71),s=r(72),u="[object Null]",a="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=n},function(t,e,r){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){return null!=t&&"object"==(void 0===t?"undefined":i(t))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=r(26),o=1/0;t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},i={extend:function(){var t=arguments.length<=0||void 0===arguments[0]?Math.max(Math.ceil(this.maxLength*this.extensionFactor),1):arguments[0],e=this.maxLength;this.arr.length=e+t;for(var r=e,n=this.maxLength=this.arr.length;r<n;r++)this.arr[r]=this.fillValue;return this},insertAtIndex:function(t,e){t>this.maxLength-1&&this.extend(t-this.maxLength+1),this.arr[t]=e,t>=this.length&&(this.length=t+1)},removeAtIndex:function(t){if(t<0||t>=this.length)throw new Error("index is out of array bounds");for(var e=this.arr[t],r=t;r<this.length;)this.arr[r]=this.arr[++r];return this.length--,e},unsetAtIndex:function(t){if(t<0||t>=this.length)throw new Error("index is out of array bounds");var e=this.arr[t];return this.arr[t]=this.fillValue,this.sparse=!0,e},find:function(t){for(var e=0;e<this.length;e++)if(t(this.arr[e]))return this.arr[e]},findAndRemove:function(t){var e=this.indexOf(t);return-1!==e&&this.removeAtIndex(e),e},findAndUnset:function(t){var e=this.indexOf(t);return-1!==e&&this.unsetAtIndex(e),e},indexOf:function(t){for(var e=0;e<this.length;e++)if(this.arr[e]===t)return e;return-1},clear:function(){for(var t=0;t<this.length;t++)this.arr[t]=this.fillValue;return this.length=0,this},push:function(t){if(t===this.fillValue)throw new Error("cannot push value equal to `fillValue`");return this.length===this.maxLength&&this.extend(Math.round(this.maxLength*this.extensionFactor)),this.arr[this.length++]=t,this},shift:function(){return this.removeAtIndex(0)},pop:function(){if(0!==this.length){var t=this.arr[--this.length];return this.arr[this.length]=this.fillValue,t}},insertAfter:function(t,e){this._insertAfterOrBefore(t,e,1)},insertBefore:function(t,e){this._insertAfterOrBefore(t,e,2)},_insertAfterOrBefore:function(t,e,r){this.length===this.maxLength&&this.extend();var n=void 0;n=1===r?t+1:t;for(var i=this.length;i>n;i--)this.arr[i]=this.arr[i-1];this.arr[n]=e,this.length++},compact:function(){if(this.sparse){for(var t=0,e=0;e<this.length;e++)this.arr[e]===this.fillValue?t++:t>0&&(this.arr[e-t]=this.arr[e],this.arr[e]=this.fillValue);this.length-=t,this.sparse=!1}return this}},o=e.FastArray=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.fillValue,r=void 0===e?0:e,o=t.initialSize,s=void 0===o?1e3:o,u=t.refillRemoved,a=void 0===u||u,c=t.extensionFactor,f=void 0===c?.5:c,h=Object.create(i);return h.fillValue=r,h.initialSize=s,h.refillRemoved=a,h.extensionFactor=f,h.sparse=!1,h.arr=n(s,r),h.length=0,h.maxLength=s,h};e.default=o},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var i=r(60),o=r(61),s=r(62),u=r(63),a=r(64);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1}var i=r(19);t.exports=n},function(t,e,r){"use strict";var n=r(2),i=n.Symbol;t.exports=i},function(t,e,r){"use strict";var n=r(4),i=n(Object,"create");t.exports=i},function(t,e,r){"use strict";function n(t,e){var r=t.__data__;return i(e)?r["string"==typeof e?"string":"hash"]:r.map}var i=r(84);t.exports=n},function(t,e,r){"use strict";function n(t,e){return i(t)?t:o(t,e)?[t]:s(u(t))}var i=r(3),o=r(25),s=r(117),u=r(120);t.exports=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=n(i),s=r(10),u=n(s),a=(0,o.default)({init:function(t){this._pool=(0,u.default)(),this._new=t._new,this._reuse=t._reuse},methods:{free:function(t){this._free&&this._free(t),this._pool.push(t)},allocate:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._pool.length?this._reuse?this._reuse.apply(this,[this._pool.pop()].concat(e)):this._pool.pop():this._new.apply(this,e)}}});e.default=a},function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r=i(u(t),function(t){return[t]});return e=o(e),s(t,r,function(t,r){return e(t,r[0])})}var i=r(29),o=r(57),s=r(129),u=r(134);t.exports=n},function(t,e,r){"use strict";function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,r){"use strict";var n=r(4),i=r(2),o=n(i,"Map");t.exports=o},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var i=r(76),o=r(83),s=r(85),u=r(86),a=r(87);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,e,r){"use strict";function n(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,r){"use strict";function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e,r){"use strict";function n(t,e){e=i(e,t);for(var r=0,n=e.length;null!=t&&r<n;)t=t[o(e[r++])];return r&&r==n?t:void 0}var i=r(16),o=r(9);t.exports=n},function(t,e,r){"use strict";function n(t,e){if(o(t))return!1;var r=void 0===t?"undefined":i(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!s(t))||(a.test(t)||!u.test(t)||null!=e&&t in Object(e))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(3),s=r(26),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=n},function(t,e,r){"use strict";function n(t){return"symbol"==(void 0===t?"undefined":i(t))||s(t)&&o(t)==u}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(6),s=r(8),u="[object Symbol]";t.exports=n},function(t,e,r){"use strict";var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,r){"use strict";function n(t){return null!=t&&void 0!==t[Symbol.iterator]}function i(t){if(this.words=[],n(t)){var e=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var u=o.value;this.add(u)}}catch(t){r=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(r)throw i}}}}i.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},i.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},i.prototype.clear=function(){this.words=[]},i.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},i.prototype.isEmpty=function(t){for(var e=this.words.length,r=0;r<e;r++)if(0!==this.words[r])return!1;return!0},i.prototype.has=function(t){return 0!=(this.words[t>>>5]&1<<t)},i.prototype.trim=function(t){for(var e=this.words.length;e>0;)0===this.words[e-1]&&e--;this.words=this.words.slice(0,e)},i.prototype.resize=function(t){for(var e=t+32>>>5,r=this.words.length;r<e;r++)this.words[r]=0},i.prototype.hammingWeight=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},i.prototype.hammingWeight4=function(t,e,r,n){return t-=t>>>1&1431655765,e-=e>>>1&1431655765,r-=r>>>1&1431655765,n-=n>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),e=(858993459&e)+(e>>>2&858993459),r=(858993459&r)+(r>>>2&858993459),n=(858993459&n)+(n>>>2&858993459),t=t+(t>>>4)&252645135,e=e+(e>>>4)&252645135,r=r+(r>>>4)&252645135,n=n+(n>>>4)&252645135,16843009*(t+e+r+n)>>>24},i.prototype.size=function(){for(var t=0,e=this.words.length,r=this.words,n=0;n<e;n++)t+=this.hammingWeight(r[n]);return t},i.prototype.array=function(){for(var t=new Array(this.size()),e=0,r=this.words.length,n=0;n<r;++n)for(var i=this.words[n];0!=i;){var o=i&-i;t[e++]=(n<<5)+this.hammingWeight(o-1|0),i^=o}return t},i.prototype.forEach=function(t){for(var e=this.words.length,r=0;r<e;++r)for(var n=this.words[r];0!=n;){var i=n&-n;t((r<<5)+this.hammingWeight(i-1|0)),n^=i}},i.prototype.clone=function(){var t=Object.create(i.prototype);return t.words=this.words.slice(),t},i.prototype.intersects=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0;r<e;++r)if(0!=(this.words[r]&t.words[r]))return!0;return!1},i.prototype.intersection=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];for(var n=this.words.length,r=e;r<n;++r)this.words[r]=0;return this},i.prototype.intersection_size=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0,n=0;n<e;++n)r+=this.hammingWeight(this.words[n]&t.words[n]);return r},i.prototype.new_intersection=function(t){var e=Object.create(i.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);for(var n=r,o=0;o+7<n;o+=8)e.words[o]=this.words[o]&t.words[o],e.words[o+1]=this.words[o+1]&t.words[o+1],e.words[o+2]=this.words[o+2]&t.words[o+2],e.words[o+3]=this.words[o+3]&t.words[o+3],e.words[o+4]=this.words[o+4]&t.words[o+4],e.words[o+5]=this.words[o+5]&t.words[o+5],e.words[o+6]=this.words[o+6]&t.words[o+6],e.words[o+7]=this.words[o+7]&t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]&t.words[o];return e},i.prototype.equals=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){for(var n=t.words.length,r=this.words.length;r<n;++r)if(0!=t.words[r])return!1}else if(t.words.length<this.words.length)for(var n=this.words.length,r=t.words.length;r<n;++r)if(0!=this.words[r])return!1;return!0},i.prototype.difference=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},i.prototype.difference_size=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0,n=0;n<e;++n)r+=this.hammingWeight(this.words[n]&~t.words[n]);for(var i=this.words.length;n<i;++n)r+=this.hammingWeight(this.words[n]);return r},i.prototype.toString=function(){return"{"+this.array().join(",")+"}"},i.prototype.union=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);for(var n=t.words.length,r=e;r<n;++r)this.words[r]=t.words[r]}return this},i.prototype.new_union=function(t){var e=Object.create(i.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);for(var n=Math.min(this.words.length,t.words.length),o=0;o+7<n;o+=8)e.words[o]=this.words[o]|t.words[o],e.words[o+1]=this.words[o+1]|t.words[o+1],e.words[o+2]=this.words[o+2]|t.words[o+2],e.words[o+3]=this.words[o+3]|t.words[o+3],e.words[o+4]=this.words[o+4]|t.words[o+4],e.words[o+5]=this.words[o+5]|t.words[o+5],e.words[o+6]=this.words[o+6]|t.words[o+6],e.words[o+7]=this.words[o+7]|t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]|t.words[o];for(var s=this.words.length,o=n;o<s;++o)e.words[o]=this.words[o];for(var u=t.words.length,o=n;o<u;++o)e.words[o]=t.words[o];return e},i.prototype.new_difference=function(t){return this.clone().difference(t)},i.prototype.union_size=function(t){for(var e=Math.min(this.words.length,t.words.length),r=0,n=0;n<e;++n)r+=this.hammingWeight(this.words[n]|t.words[n]);if(this.words.length<t.words.length)for(var i=t.words.length,n=this.words.length;n<i;++n)r+=this.hammingWeight(0|t.words[n]);else for(var i=this.words.length,n=t.words.length;n<i;++n)r+=this.hammingWeight(0|this.words[n]);return r},t.exports=i},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__=new i(t);this.size=e.size}var i=r(11),o=r(65),s=r(66),u=r(67),a=r(68),c=r(69);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=u,n.prototype.has=a,n.prototype.set=c,t.exports=n},function(t,e,r){"use strict";function n(t){if(!o(t))return!1;var e=i(t);return e==u||e==a||e==s||e==c}var i=r(6),o=r(7),s="[object AsyncFunction]",u="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=n},function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.exports=n}).call(e,r(27))},function(t,e,r){"use strict";function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,o=i.toString;t.exports=n},function(t,e,r){"use strict";function n(t,e,r,s,u){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,r,s,n,u))}var i=r(88),o=r(8);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,c,f){var h=r&u,p=t.length,d=e.length;if(p!=d&&!(h&&d>p))return!1;var l=f.get(t);if(l&&f.get(e))return l==e;var y=-1,m=!0,v=r&a?new i:void 0;for(f.set(t,e),f.set(e,t);++y<p;){var _=t[y],g=e[y];if(n)var b=h?n(g,_,y,e,t,f):n(_,g,y,t,e,f);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(e,function(t,e){if(!s(v,e)&&(_===t||c(_,t,r,n,f)))return v.push(e)})){m=!1;break}}else if(_!==g&&!c(_,g,r,n,f)){m=!1;break}}return f.delete(t),f.delete(e),m}var i=r(89),o=r(92),s=r(93),u=1,a=2;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=e(t);return o(t)?n:i(n,r(t))}var i=r(37),o=r(3);t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}t.exports=n},function(t,e,r){"use strict";var n=r(100),i=r(39),o=Object.prototype,s=o.propertyIsEnumerable,u=Object.getOwnPropertySymbols,a=u?function(t){return null==t?[]:(t=Object(t),n(u(t),function(e){return s.call(t,e)}))}:i;t.exports=a},function(t,e,r){"use strict";function n(){return[]}t.exports=n},function(t,e,r){"use strict";function n(t){return s(t)?i(t):o(t)}var i=r(41),o=r(107),s=r(48);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=s(t),n=!r&&o(t),f=!r&&!n&&u(t),p=!r&&!n&&!f&&c(t),d=r||n||f||p,l=d?i(t.length,String):[],y=l.length;for(var m in t)!e&&!h.call(t,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,y))||l.push(m);return l}var i=r(101),o=r(42),s=r(3),u=r(43),a=r(22),c=r(45),f=Object.prototype,h=f.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";var n=r(102),i=r(8),o=Object.prototype,s=o.hasOwnProperty,u=o.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},function(t,e,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(2),o=r(103),s="object"==n(e)&&e&&!e.nodeType&&e,u=s&&"object"==n(t)&&t&&!t.nodeType&&t,a=u&&u.exports===s,c=a?i.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||o;t.exports=h}).call(e,r(44)(t))},function(t,e,r){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(104),i=r(105),o=r(106),s=o&&o.isTypedArray,u=s?i(s):n;t.exports=u},function(t,e,r){"use strict";function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}var i=Object.prototype;t.exports=n},function(t,e,r){"use strict";function n(t,e){return function(r){return t(e(r))}}t.exports=n},function(t,e,r){"use strict";function n(t){return null!=t&&o(t.length)&&!i(t)}var i=r(31),o=r(23);t.exports=n},function(t,e,r){"use strict";function n(t){return t===t&&!i(t)}var i=r(7);t.exports=n},function(t,e,r){"use strict";function n(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}t.exports=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=r(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=r(1),u=r(5),a=n(u),c=r(52),f=n(c),h=r(54),p=n(h),d=r(55),l=n(d),y=r(56),m=n(y),v=r(141),_=n(v),g=r(143),b=n(g),w=[],x=o.compose(a.default,{statics:{stampit:o,registerPlugin:function(t){w.push(t)}},init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.log("%cEntropy 1.0.0-alpha.1 - Entity System Framework for JavaScript","\n      background: white;\n      display: block;\n      color: black;\n      box-shadow: 1px 1px 3px black;\n      padding: 5px;\n      text-align: center;\n      font-weight: bold;"),this.component=(0,_.default)(),this.entity=(0,m.default)({game:this}),this.system=(0,b.default)({game:this}),this.engine=(0,f.default)({game:this}),this.ticker=(0,p.default)({game:this}),w.forEach(function(r){t[r.propName]=r({game:t,config:e[r.propName]})}),this.ticker.on("update",function(){var e;return(e=t.engine).update.apply(e,arguments)}),"undefined"!=typeof window){var r=void 0,n=void 0;void 0!==document.hidden?(r="hidden",n="visibilitychange"):void 0!==document.msHidden?(r="msHidden",n="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",n="webkitvisibilitychange"),document.addEventListener(n,function(e){t.emit("visibilityChange",{originalEvent:e,hidden:document.hidden})},!1),e.pauseOnHide&&this.on("visibilityChange",function(e){e[r]?t.pause():t.resume()})}},methods:{start:function(){this.ticker.start(),this.emit("start")},pause:function(){this.ticker.pause()},resume:function(){this.ticker.resume()},stop:function(t){var e=this;t?(this.engine.once("clear",function(){return e._stopAndEmit()}),this.engine.clear()):this._stopAndEmit()},registerEntity:function(){var t;return(t=this.entity).register.apply(t,arguments),this},registerEntities:function(){var t;return(t=this.entity).registerMany.apply(t,arguments),this},createEntity:function(){var t;return(t=this.entity).create.apply(t,arguments)},addEntity:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=(0,s.isObject)(t)?t:this.createEntity.apply(this,[t].concat(r));return this.engine.addEntity(i),this},removeEntity:function(t){this.engine.removeEntity(t)},registerComponent:function(){var t;return(t=this.component).register.apply(t,arguments),this},registerComponents:function(){var t;return(t=this.component).registerMany.apply(t,arguments),this},createComponent:function(){var t;return(t=this.component).create.apply(t,arguments)},registerSystem:function(){var t;return(t=this.system).register.apply(t,arguments),this},registerSystems:function(){var t;return(t=this.system).registerMany.apply(t,arguments),this},createSystem:function(){var t;return(t=this.system).create.apply(t,arguments)},addSystem:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=(0,s.isObject)(t)?t:this.createSystem.apply(this,[t].concat(r));this.engine.addSystem(i)},removeSystem:function(t){this.engine.removeSystem(t)},createQuery:function(t){return(0,l.default)({componentsIdsMap:this.component._componentsIdsMap,criterions:t})},getEntities:function(t){return this.engine.getEntities(t)},isRunning:function(){return this.ticker.isRunning()},_stopAndEmit:function(){this.ticker.stop()&&this.emit("stop")}}});t.exports=x},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(53),s=n(o),u=r(10),a=n(u),c=r(5),f=n(c),h=r(17),p=n(h),d=r(1),l=(0,i.compose)({init:function(t){var e=1;this._entitiesIdsPool=(0,p.default)({_new:function(){return e++}}),this._systems=(0,a.default)({initialSize:10}),this._entities=(0,a.default)(),this._modifiedEntities=(0,a.default)(),this._entitiesToAdd=(0,a.default)(),this._entitiesToRemove=(0,a.default)(),this._systemsToAdd=(0,a.default)({initialSize:10}),this._systemsToRemove=(0,a.default)({initialSize:10}),this._queries=[],this._entitiesCount=0,this._isClearingScheduled=!1,this._wasClearingPerformed=!1,this.game=t.game},methods:{addEntity:function(t){var e=this;t.isRecycled()||t.on("queueModification",function(){e._markModifiedEntity(t)}),this.game.isRunning()?this._entitiesToAdd.push(t):this._addEntity(t)},removeEntity:function(t){this.game.isRunning()?this._entitiesToRemove.push(t):this._removeEntity()},addSystem:function(t){this._systemsToAdd.push(t)},removeSystem:function(t){var e=void 0;(0,s.default)(t)?e=t:(0,d.isNonEmptyString)(t)&&(e=this._systems.find(function(e){return e.type===t})),e&&this._systemsToRemove.push(e)},getEntities:function(t){return-1===this._queries.indexOf(t)&&this._initializeQuery(t),t.getEntities()},update:function(){this._updateSystems.apply(this,arguments),this._isClearingScheduled&&this._performScheduledClearing(),this._removeEntities(),this._addEntities(),this._modifyEntities(),this._removeSystems(),this._addSystems(),this._updateQueries(),this._wasClearingPerformed&&(this.emit("clear"),this._wasClearingPerformed=!1,this._isClearingScheduled=!1)},clear:function(){this._isClearingScheduled=!0},_markModifiedEntity:function(t){0!==t.id&&-1===this._modifiedEntities.indexOf(t)&&(this.game.isRunning()?this._modifiedEntities.push(t):this._modifyEntity(t))},_updateSystems:function(){for(var t=0;t<this._systems.length;t+=1){var e=this._systems.arr[t];e._disabled||e.onUpdate.apply(e,arguments)}},_removeEntities:function(){for(;this._entitiesToRemove.length;)this._removeEntity(this._entitiesToRemove.pop())},_removeEntity:function(t){if(0!==t.id){for(var e=0;e<this._queries.length;e+=1){var r=this._queries[e];r.satisfiedBy(t)&&r.removeFromIndex(t.id)}t.onRemove(t),this._entities.unsetAtIndex(t.id),this._entitiesIdsPool.free(t.id),t.removeAllComponents(),t.id=0,this.game.entity.free(t),this._entitiesCount-=1,this.emit("entityRemove",t)}},_addEntities:function(){for(;this._entitiesToAdd.length;)this._addEntity(this._entitiesToAdd.pop())},_addEntity:function(t){var e=this._entitiesIdsPool.allocate();t.id=e,this._entities.insertAtIndex(e,t);for(var r=0;r<this._queries.length;r+=1){var n=this._queries[r];n.satisfiedBy(t)&&n.addToIndex(e)}this._entitiesCount+=1,this.emit("entityAdd",t)},_modifyEntity:function(t){for(var e=0;e<this._queries.length;e+=1){var r=this._queries[e],n=r.satisfiedBy(t);t.applyModifications();var i=r.satisfiedBy(t);!n&&i?r.addToIndex(t.id):n&&!i&&r.removeFromIndex(t.id)}},_modifyEntities:function(){for(;this._modifiedEntities.length;)this._modifyEntity(this._modifiedEntities.pop())},_addSystem:function(t){for(var e=0;e<this._systems.length&&!(this._systems.arr[e].priority>t.priority);e+=1);this._systems.insertBefore(e,t)},_addSystems:function(){for(;this._systemsToAdd.length;)this._addSystem(this._systemsToAdd.shift())},_removeSystem:function(t){var e=this._systems.indexOf(t);-1!==e&&(t.onRemove(),this._systems.removeAtIndex(e))},_removeSystems:function(){for(;this._systemsToRemove.length;)this._removeSystem(this._systemsToRemove.shift())},_updateQueries:function(){for(var t=0;t<this._queries.length;t+=1)this._queries[t].update(this._entities)},_performScheduledClearing:function(){this._wasClearingPerformed=!0},_initializeQuery:function(t){t.initialize(this._entities),this._queries.push(t)}}},f.default);e.default=l},function(t,e,r){"use strict";function n(t){return"function"==typeof t}function i(t){return n(t)&&n(t.compose)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,t.exports=e.default},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(0),o=r(5),s=function(t){return t&&t.__esModule?t:{default:t}}(o);!function(){var e="object"===("undefined"==typeof window?"undefined":n(window))?window:t;if(/**
   * performance.now polyfill
   *
   * @license http://opensource.org/licenses/MIT
   * Copyright (C) 2015 Paul Irish
   *
   * Date.now() is supported everywhere except IE8. For IE8 we use the Date.now polyfill:
   * github.com/Financial-Times/polyfill-service/blob/master/polyfills/Date.now/polyfill.js
   *
   * As Safari 6 doesn't have support for NavigationTiming,
   * we use a Date.now() timestamp for relative values.
   */
"performance"in e||(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},!("now"in e.performance)){var r=Date.now();performance.timing&&performance.timing.navigationStart&&(r=performance.timing.navigationStart),e.performance.now=function(){return Date.now()-r}}for(var i=0,o=["ms","moz","webkit","o"],s=0;s<o.length&&!e.requestAnimationFrame;++s)e.requestAnimationFrame=e[o[s]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o[s]+"CancelAnimationFrame"]||e[o[s]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-i)),o=e.setTimeout(function(){t(r+n)},n);return i=r+n,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)})}();var u=(0,i.compose)({init:function(){var t=this;this.simulationTimestep=1e3/60,this.frameDelta=0,this.lastFrameTimeMs=0,this.fps=60,this.lastFpsUpdate=0,this.framesThisSecond=0,this.numUpdateSteps=0,this.minFrameDelay=0,this.running=!1,this.paused=!1,this.started=!1,this.panic=!1,this.rafHandle,this.animate=function(e){if(t.rafHandle=requestAnimationFrame(t.animate),!(e<t.lastFrameTimeMs+t.minFrameDelay)){t.frameDelta+=e-t.lastFrameTimeMs,t.lastFrameTimeMs=e,t.emit("begin",e,t.frameDelta),e>t.lastFpsUpdate+1e3&&(t.fps=.25*t.framesThisSecond+.75*t.fps,t.lastFpsUpdate=e,t.framesThisSecond=0),t.framesThisSecond++;for(var r=0;t.frameDelta>=t.simulationTimestep;)if(t.emit("update",t.simulationTimestep),t.frameDelta-=t.simulationTimestep,++r>=240){t.panic=!0;break}t.emit("draw",t.frameDelta/t.simulationTimestep),t.emit("end",t.fps,t.panic),t.panic=!1}}},methods:{getSimulationTimestep:function(){return this.simulationTimestep},setSimulationTimestep:function(t){return this.simulationTimestep=t,this},getFPS:function(){return this.fps},getMaxAllowedFPS:function(){return 1e3/this.minFrameDelay},setMaxAllowedFPS:function(t){return void 0===t&&(this.fps=1/0),0===t?this.stop():this.minFrameDelay=1e3/t,this},resetFrameDelta:function(){var t=this.frameDelta;return this.frameDelta=0,t},start:function(){var t=this;return this.started||(this.started=!0,this.rafHandle=requestAnimationFrame(function(e){t.emit("draw",1),t.running=!0,t.lastFrameTimeMs=e,t.lastFpsUpdate=e,t.framesThisSecond=0,t.rafHandle=requestAnimationFrame(t.animate)})),this},stop:function(){return this.running=!1,this.started=!1,cancelAnimationFrame(this.rafHandle),this},pause:function(){return this.isRunning()&&!this.paused&&(this.paused=!0,this.stop()),this},resume:function(){return this.paused&&(this.paused=!1,this.start()),this},isRunning:function(){return this.running}}},s.default);e.default=u}).call(e,r(27))},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),o=r(0),s=n(o),u=r(28),a=n(u),c=r(10),f=n(c),h=(0,s.default)({deepProps:{_shouldUpdate:!1},init:function(t){var e=[],r=[],n=void 0,o=void 0;if((0,i.isArray)(t.criterions)?e=t.criterions:(0,i.isObject)(t.criterions)&&((0,i.isNonEmptyString)(t.criterions.entityType)&&(this._matchType=t.criterions.entityType),(0,i.isArray)(t.criterions.include)&&(e=t.criterions.include),(0,i.isArray)(t.criterions.exclude)&&(r=t.criterions.exclude)),e.length>0){n=new a.default;for(var s=0;s<e.length;s+=1)n.add(t.componentsIdsMap[e[s]])}if(r){o=new a.default;for(var u=0;u<r.length;u+=1)o.add(t.componentsIdsMap[r[u]])}this._entitiesIndex=(0,f.default)(),this._matchedEntities=(0,f.default)(),this._result={entities:this._matchedEntities.arr,length:0},this._includes=n,this._excludes=o},methods:{initialize:function(t){for(var e=0;e<t.length;e+=1){var r=t.arr[e];0!==r&&this.satisfiedBy(r)&&this.addToIndex(r.id)}this.update(t)},satisfiedBy:function(t){var e=!0;return(0,i.isString)(this._matchType)&&(e=t.type===this._matchType),e&&this._includes&&(e=this._includes.intersection_size(t.bitset)===this._includes.size()),e&&this._excludes&&(e=0===this._excludes.intersection_size(t.bitset)),e},shouldUpdate:function(){return this._shouldUpdate},addToIndex:function(t){this._shouldUpdate=!0,this._entitiesIndex.push(t)},removeFromIndex:function(t){var e=this._entitiesIndex.indexOf(t);-1!==e&&(this._shouldUpdate=!0,this._entitiesIndex.unsetAtIndex(e))},getEntities:function(){return this._result.length=this._matchedEntities.length,this._result},update:function(t){if(this._shouldUpdate){this._entitiesIndex.compact(),this._matchedEntities.clear();for(var e=0;e<this._entitiesIndex.length;e+=1){var r=this._entitiesIndex.arr[e];this._matchedEntities.push(t.arr[r])}this._shouldUpdate=!1}}}});e.default=h},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(18),s=n(o),u=r(1),a=r(140),c=n(a),f=r(17),h=n(f),p=(0,i.compose)({init:function(t){var e=t.game;this._pools={},this._factories={},this.game=e},methods:{register:function(t){var e=this;this._factories[t.type]=(0,i.compose)(c.default,{methods:(0,s.default)(t,function(t){return(0,u.isFunction)(t)})}),this._pools[t.type]=(0,h.default)({_new:function(){var r=e._factories[t.type]({game:e.game,type:t.type});return r.onCreate.apply(r,arguments),r},_reuse:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.onReuse(),t.onCreate.apply(t,r),t}})},registerMany:function(t){var e=this;t.forEach(function(t){return e.register(t)})},create:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(e=this._pools[t]).allocate.apply(e,n)},free:function(t){t.markAsRecycled(),this._pools[t.type].free(t)}}});e.default=p},function(t,e,r){"use strict";function n(t){return"function"==typeof t?t:null==t?u:"object"==(void 0===t?"undefined":i(t))?a(t)?s(t[0],t[1]):o(t):c(t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(58),s=r(115),u=r(125),a=r(3),c=r(126);t.exports=n},function(t,e,r){"use strict";function n(t){var e=o(t);return 1==e.length&&e[0][2]?s(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}}var i=r(59),o=r(114),s=r(50);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=r.length,c=a,f=!n;if(null==t)return!c;for(t=Object(t);a--;){var h=r[a];if(f&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<c;){h=r[a];var p=h[0],d=t[p],l=h[1];if(f&&h[2]){if(void 0===d&&!(p in t))return!1}else{var y=new i;if(n)var m=n(d,l,p,t,e,y);if(!(void 0===m?o(l,d,s|u,n,y):m))return!1}}return!0}var i=r(30),o=r(34),s=1,u=2;t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=i(e,t);return!(r<0)&&(r==e.length-1?e.pop():s.call(e,r,1),--this.size,!0)}var i=r(12),o=Array.prototype,s=o.splice;t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}var i=r(12);t.exports=n},function(t,e,r){"use strict";function n(t){return i(this.__data__,t)>-1}var i=r(12);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var i=r(12);t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=new i,this.size=0}var i=r(11);t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.get(t)}t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__;if(r instanceof i){var n=r.__data__;if(!o||n.length<u-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new s(n)}return r.set(t,e),this.size=r.size,this}var i=r(11),o=r(20),s=r(21),u=200;t.exports=n},function(t,e,r){"use strict";function n(t){return!(!s(t)||o(t))&&(i(t)?l:c).test(u(t))}var i=r(31),o=r(73),s=r(7),u=r(33),a=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,p=f.toString,d=h.hasOwnProperty,l=RegExp("^"+p.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,r){"use strict";function n(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=u.call(t);return n&&(e?t[a]=r:delete t[a]),i}var i=r(13),o=Object.prototype,s=o.hasOwnProperty,u=o.toString,a=i?i.toStringTag:void 0;t.exports=n},function(t,e,r){"use strict";function n(t){return o.call(t)}var i=Object.prototype,o=i.toString;t.exports=n},function(t,e,r){"use strict";function n(t){return!!o&&o in t}var i=r(74),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,e,r){"use strict";var n=r(2),i=n["__core-js_shared__"];t.exports=i},function(t,e,r){"use strict";function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,r){"use strict";function n(){this.size=0,this.__data__={hash:new i,map:new(s||o),string:new i}}var i=r(77),o=r(11),s=r(20);t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var i=r(78),o=r(79),s=r(80),u=r(81),a=r(82);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,e,r){"use strict";function n(){this.__data__=i?i(null):{},this.size=0}var i=r(14);t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__;if(i){var r=e[t];return r===o?void 0:r}return u.call(e,t)?e[t]:void 0}var i=r(14),o="__lodash_hash_undefined__",s=Object.prototype,u=s.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=this.__data__;return i?void 0!==e[t]:s.call(e,t)}var i=r(14),o=Object.prototype,s=o.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?o:e,this}var i=r(14),o="__lodash_hash_undefined__";t.exports=n},function(t,e,r){"use strict";function n(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=r(15);t.exports=n},function(t,e,r){"use strict";function n(t){var e=void 0===t?"undefined":i(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,r){"use strict";function n(t){return i(this,t).get(t)}var i=r(15);t.exports=n},function(t,e,r){"use strict";function n(t){return i(this,t).has(t)}var i=r(15);t.exports=n},function(t,e,r){"use strict";function n(t,e){var r=i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var i=r(15);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,m,_){var g=c(t),b=c(e),w=g?l:a(t),x=b?l:a(e);w=w==d?y:w,x=x==d?y:x;var j=w==y,S=x==y,O=w==x;if(O&&f(t)){if(!f(e))return!1;g=!0,j=!1}if(O&&!j)return _||(_=new i),g||h(t)?o(t,e,r,n,m,_):s(t,e,w,r,n,m,_);if(!(r&p)){var A=j&&v.call(t,"__wrapped__"),P=S&&v.call(e,"__wrapped__");if(A||P){var M=A?t.value():t,E=P?e.value():e;return _||(_=new i),m(M,E,r,n,_)}}return!!O&&(_||(_=new i),u(t,e,r,n,m,_))}var i=r(30),o=r(35),s=r(94),u=r(98),a=r(109),c=r(3),f=r(43),h=r(45),p=1,d="[object Arguments]",l="[object Array]",y="[object Object]",m=Object.prototype,v=m.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new i;++e<r;)this.add(t[e])}var i=r(21),o=r(90),s=r(91);n.prototype.add=n.prototype.push=o,n.prototype.has=s,t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.set(t,i),this}var i="__lodash_hash_undefined__";t.exports=n},function(t,e,r){"use strict";function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}t.exports=n},function(t,e,r){"use strict";function n(t,e){return t.has(e)}t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,i,j,O){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!j(new o(t),new o(e)));case p:case d:case m:return s(+t,+e);case l:return t.name==e.name&&t.message==e.message;case v:case g:return t==e+"";case y:var A=a;case _:var P=n&f;if(A||(A=c),t.size!=e.size&&!P)return!1;var M=O.get(t);if(M)return M==e;n|=h,O.set(t,e);var E=u(A(t),A(e),n,i,j,O);return O.delete(t),E;case b:if(S)return S.call(t)==S.call(e)}return!1}var i=r(13),o=r(95),s=r(19),u=r(35),a=r(96),c=r(97),f=1,h=2,p="[object Boolean]",d="[object Date]",l="[object Error]",y="[object Map]",m="[object Number]",v="[object RegExp]",_="[object Set]",g="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",j=i?i.prototype:void 0,S=j?j.valueOf:void 0;t.exports=n},function(t,e,r){"use strict";var n=r(2),i=n.Uint8Array;t.exports=i},function(t,e,r){"use strict";function n(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}t.exports=n},function(t,e,r){"use strict";function n(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n,s,a){var c=r&o,f=i(t),h=f.length;if(h!=i(e).length&&!c)return!1;for(var p=h;p--;){var d=f[p];if(!(c?d in e:u.call(e,d)))return!1}var l=a.get(t);if(l&&a.get(e))return l==e;var y=!0;a.set(t,e),a.set(e,t);for(var m=c;++p<h;){d=f[p];var v=t[d],_=e[d];if(n)var g=c?n(_,v,d,e,t,a):n(v,_,d,t,e,a);if(!(void 0===g?v===_||s(v,_,r,n,a):g)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(y=!1)}return a.delete(t),a.delete(e),y}var i=r(99),o=1,s=Object.prototype,u=s.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){return i(t,s,o)}var i=r(36),o=r(38),s=r(40);t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}t.exports=n},function(t,e,r){"use strict";function n(t){return o(t)&&i(t)==s}var i=r(6),o=r(8),s="[object Arguments]";t.exports=n},function(t,e,r){"use strict";function n(){return!1}t.exports=n},function(t,e,r){"use strict";function n(t){return s(t)&&o(t.length)&&!!u[i(t)]}var i=r(6),o=r(23),s=r(8),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=n},function(t,e,r){"use strict";function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,r){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(32),o="object"==n(e)&&e&&!e.nodeType&&e,s=o&&"object"==n(t)&&t&&!t.nodeType&&t,u=s&&s.exports===o,a=u&&i.process,c=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=c}).call(e,r(44)(t))},function(t,e,r){"use strict";function n(t){if(!i(t))return o(t);var e=[];for(var r in Object(t))u.call(t,r)&&"constructor"!=r&&e.push(r);return e}var i=r(46),o=r(108),s=Object.prototype,u=s.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";var n=r(47),i=n(Object.keys,Object);t.exports=i},function(t,e,r){"use strict";var n=r(110),i=r(20),o=r(111),s=r(112),u=r(113),a=r(6),c=r(33),f=c(n),h=c(i),p=c(o),d=c(s),l=c(u),y=a;(n&&"[object DataView]"!=y(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||s&&"[object Set]"!=y(new s)||u&&"[object WeakMap]"!=y(new u))&&(y=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case l:return"[object WeakMap]"}return e}),t.exports=y},function(t,e,r){"use strict";var n=r(4),i=r(2),o=n(i,"DataView");t.exports=o},function(t,e,r){"use strict";var n=r(4),i=r(2),o=n(i,"Promise");t.exports=o},function(t,e,r){"use strict";var n=r(4),i=r(2),o=n(i,"Set");t.exports=o},function(t,e,r){"use strict";var n=r(4),i=r(2),o=n(i,"WeakMap");t.exports=o},function(t,e,r){"use strict";function n(t){for(var e=o(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,i(s)]}return e}var i=r(49),o=r(40);t.exports=n},function(t,e,r){"use strict";function n(t,e){return u(t)&&a(e)?c(f(t),e):function(r){var n=o(r,t);return void 0===n&&n===e?s(r,t):i(e,n,h|p)}}var i=r(34),o=r(116),s=r(122),u=r(25),a=r(49),c=r(50),f=r(9),h=1,p=2;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}var i=r(24);t.exports=n},function(t,e,r){"use strict";var n=r(118),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,u=n(function(t){var e=[];return i.test(t)&&e.push(""),t.replace(o,function(t,r,n,i){e.push(n?i.replace(s,"$1"):r||t)}),e});t.exports=u},function(t,e,r){"use strict";function n(t){var e=i(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}var i=r(119),o=500;t.exports=n},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var r=function r(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(n.Cache||i),r}var i=r(21),o="Expected a function";n.Cache=i,t.exports=n},function(t,e,r){"use strict";function n(t){return null==t?"":i(t)}var i=r(121);t.exports=n},function(t,e,r){"use strict";function n(t){if("string"==typeof t)return t;if(s(t))return o(t,n)+"";if(u(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var i=r(13),o=r(29),s=r(3),u=r(26),a=1/0,c=i?i.prototype:void 0,f=c?c.toString:void 0;t.exports=n},function(t,e,r){"use strict";function n(t,e){return null!=t&&o(t,e,i)}var i=r(123),o=r(124);t.exports=n},function(t,e,r){"use strict";function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,r){"use strict";function n(t,e,r){e=i(e,t);for(var n=-1,f=e.length,h=!1;++n<f;){var p=c(e[n]);if(!(h=null!=t&&r(t,p)))break;t=t[p]}return h||++n!=f?h:!!(f=null==t?0:t.length)&&a(f)&&u(p,f)&&(s(t)||o(t))}var i=r(16),o=r(42),s=r(3),u=r(22),a=r(23),c=r(9);t.exports=n},function(t,e,r){"use strict";function n(t){return t}t.exports=n},function(t,e,r){"use strict";function n(t){return s(t)?i(u(t)):o(t)}var i=r(127),o=r(128),s=r(25),u=r(9);t.exports=n},function(t,e,r){"use strict";function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,r){"use strict";function n(t){return function(e){return i(e,t)}}var i=r(24);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){for(var n=-1,u=e.length,a={};++n<u;){var c=e[n],f=i(t,c);r(f,c)&&o(a,s(c,t),f)}return a}var i=r(24),o=r(130),s=r(16);t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){if(!u(t))return t;e=o(e,t);for(var c=-1,f=e.length,h=f-1,p=t;null!=p&&++c<f;){var d=a(e[c]),l=r;if(c!=h){var y=p[d];l=n?n(y,d,p):void 0,void 0===l&&(l=u(y)?y:s(e[c+1])?[]:{})}i(p,d,l),p=p[d]}return t}var i=r(131),o=r(16),s=r(22),u=r(7),a=r(9);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n=t[e];u.call(t,e)&&o(n,r)&&(void 0!==r||e in t)||i(t,e,r)}var i=r(132),o=r(19),s=Object.prototype,u=s.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var i=r(133);t.exports=n},function(t,e,r){"use strict";var n=r(4),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,r){"use strict";function n(t){return i(t,s,o)}var i=r(36),o=r(135),s=r(137);t.exports=n},function(t,e,r){"use strict";var n=r(37),i=r(136),o=r(38),s=r(39),u=Object.getOwnPropertySymbols,a=u?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:s;t.exports=a},function(t,e,r){"use strict";var n=r(47),i=n(Object.getPrototypeOf,Object);t.exports=i},function(t,e,r){"use strict";function n(t){return s(t)?i(t,!0):o(t)}var i=r(41),o=r(138),s=r(48);t.exports=n},function(t,e,r){"use strict";function n(t){if(!i(t))return s(t);var e=o(t),r=[];for(var n in t)("constructor"!=n||!e&&a.call(t,n))&&r.push(n);return r}var i=r(7),o=r(46),s=r(139),u=Object.prototype,a=u.hasOwnProperty;t.exports=n},function(t,e,r){"use strict";function n(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=n(i),s=r(1),u=r(28),a=n(u),c=r(10),f=n(c),h=r(5),p=n(h),d=(0,o.default)({init:function(t){this._modifications=(0,f.default)(),this._used=!1,this.game=t.game,this.type=t.type,this.id=0,this.bitset=new a.default,this.components=this.cs={}},methods:{onCreate:function(){},onRemove:function(){},onReuse:function(){},onComponentRemove:function(){},addComponent:function(t){for(var e,r=this,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var u=(0,s.isObject)(t)?t:(e=this.game.component).create.apply(e,[t].concat(i));return 0===this.id?this._addComponent(u):(this._modifications.push({fn:function(){r._addComponent(u)}}),this.emit("queuedModification",this)),this},_addComponent:function(t){this.components[t._propName]=t,this.bitset.add(t._id),this.emit("componentAdd",this,t)},removeComponent:function(t){var e=this,r=(0,s.toLowerFirstCase)(t),n=this.components[r];return 0===this.id?this._removeComponent(n):(this._modifications.push({fn:function(){e._removeComponent(n)}}),this.emit("queueModification",this)),this},removeAllComponents:function(){var t=this;Object.keys(this.components).forEach(function(e){return t.removeComponent(e)})},_removeComponent:function(t){this.game.component.free(t),this.components[t._propName]=null,this.bitset.remove(t._id),this.onComponentRemove(t)},applyModifications:function(){for(;this._modifications.length;){this._modifications.shift().fn()}},clearModifications:function(){this._modifications.clear()},is:function(t){return this.type===t},markAsRecycled:function(){this._used=!0},isRecycled:function(){return this._used}}}).compose(p.default);e.default=d},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(18),s=n(o),u=r(1),a=r(17),c=n(a),f=r(142),h=n(f),p=(0,i.compose)({init:function(){this._greatestComponentId=0,this._componentsIdsMap={},this._pools={},this._factories={}},methods:{register:function(t){var e=this;this._factories[t.type]=(0,i.compose)(h.default,{methods:(0,s.default)(t,function(t){return(0,u.isFunction)(t)})}),this._componentsIdsMap[t.type]=this._greatestComponentId,this._greatestComponentId+=1,this._pools[t.type]=(0,c.default)({_new:function(){var r=e._factories[t.type]({type:t.type,id:e._componentsIdsMap[t.type]});return r.onCreate.apply(r,arguments),r},_reuse:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.onCreate.apply(t,r),t}})},registerMany:function(t){var e=this;t.forEach(function(t){return e.register(t)})},create:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(e=this._pools[t]).allocate.apply(e,n)},free:function(t){this._pools[t.getType()].free(t)}}});e.default=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(1),o=(0,n.compose)({init:function(t){this._type=t.type,this._id=t.id,this._propName=(0,i.toLowerFirstCase)(t.type)},methods:{onCreate:function(t){(0,i.isObject)(t)&&Object.assign(this,t)},getType:function(){return this._type}}});e.default=o},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=r(18),s=n(o),u=r(1),a=r(144),c=n(a),f=(0,i.compose)({init:function(t){this.game=t.game,this._factories={}},methods:{register:function(t){this._factories[t.type]=(0,i.compose)(c.default,{properties:{type:t.type},methods:(0,s.default)(t,function(t){return(0,u.isFunction)(t)})})},registerMany:function(t){var e=this;t.forEach(function(t){return e.register(t)})},create:function(t){for(var e=this._factories[t]({game:this.game}),r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.onCreate.apply(e,n),e}}});e.default=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=r(5),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=(0,n.compose)({properties:{priority:0,enabled:!0,singleton:!1},init:function(t){this.game=t.game},methods:{onCreate:function(){},onUpdate:function(t){},onEnable:function(){},onDisable:function(){},onRemove:function(){},enable:function(){return this.isEnabled()||(this.enabled=!0,this.startResponding(),this.emit("enable")),this},disable:function(){return this.isEnabled()&&(this.enabled=!1,this.emit("disable"),this.stopResponding()),this},isEnabled:function(){return this.enabled}}},o.default);e.default=s}]);