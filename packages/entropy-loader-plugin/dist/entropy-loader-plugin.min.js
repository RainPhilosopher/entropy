var EntropyLoaderPlugin=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=r(1),o=r(2),s=n(o),a=r(9),u=n(a),l=r(11),h=n(l),d=r(12),c=n(d),f=void 0,p=void 0;try{f=r(13)}catch(e){}try{p=r(14)}catch(e){}var _={ogg:"audio/ogg",mp3:"audio/mpeg3",wav:"audio/wav"},E=function(){},v=function(e){return Object.keys(e).map(function(t){return e[t]})},g=function(e,t){var r={};return e.forEach(function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)}),r},m=function(e){for(var t="",r=e.byteLength,n=0;n<r;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)},T=function(e,t){var r=g(v(t).filter(function(e){return e.metadata&&e.metadata.howlerSound}),function(e){return e.metadata.name});Object.keys(r).forEach(function(t){var n=r[t].map(function(e){return"data:"+_[u.default.extname(e.url).slice(1)]+";base64,"+m(new Uint8Array(e.data))});e.game.SOUND_CACHE[t]=new p({src:n})})},y=i.stampit.compose({statics:{propName:"loader"},init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.game,n=t.config,i=void 0===n?{}:n;this.loader=new s.default(i.baseUrl);var o=function(t){return function(r,n){return t(e,r,n)}};f&&(r.TEXTURE_CACHE=f.utils.TextureCache,r.BASE_TEXTURE_CACHE=f.utils.BaseTextureCache,this.loader.use(o((0,c.default)(f))),this.loader.use(o((0,h.default)(f)))),p&&(r.SOUND_CACHE={}),this.game=r},methods:{loadFile:function(e){var t=e.name,r=void 0===t?"":t,n=e.url,i=void 0===n?"":n,o=e.options,s=void 0===o?{}:o,a=e.onLoad,u=void 0===a?E:a;this.loader.add(r,i,s,u)},loadPixiTexture:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?"":t,n=e.url,i=void 0===n?"":n,o=e.options,s=void 0===o?{}:o,a=e.onLoad,u=void 0===a?E:a;if(f)return s.metadata=s.metadata||{},Object.assign(s.metadata,{pixiTexture:!0}),this.loader.add(r,i,s,u),this},loadPixiTextureAtlas:function(e){var t=e.url;if(f)return this.loader.add(t,{metadata:{textureAtlas:!0}}),this},loadHowlerSound:function(e){var t=this,r=e.name,n=e.url,i=void 0===n?[]:n;e.howlOptions;if(p)return Array.isArray(i)||(i=[i]),i.forEach(function(e,n){t.loader.add(r+"_howler_sound_"+n,e,{loadType:o.Resource.LOAD_TYPE.XHR,xhrType:o.Resource.XHR_RESPONSE_TYPE.BUFFER,metadata:{name:r,howlerSound:!0}})}),this},start:function(e){var t=this;this.loader.load(function(r,n){p&&T(t,n),e(t,n)})},reset:function(){this.loader.reset()}}});e.exports=y},function(e,t){e.exports=Entropy},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var o=r(3),s=i(o),a=r(7),u=i(a),l=r(6),h=n(l),d=r(8),c=n(d);s.default.Resource=u.default,s.default.async=h,s.default.base64=c,e.exports=s.default},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),l=i(u),h=r(5),d=i(h),c=r(6),f=n(c),p=r(7),_=i(p),E=100,v=/(#[\w\-]+)?$/,g=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=f.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new l.default,this.onError=new l.default,this.onLoad=new l.default,this.onStart=new l.default,this.onComplete=new l.default}return a(e,[{key:"add",value:function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===("undefined"==typeof e?"undefined":s(e))&&(n=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(n=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new _.default(e,t,r),"function"==typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){var o=r.parentResource,a=o.progressChunk*(o.children.length+1),u=a/(o.children.length+2);o.children.push(this.resources[e]),o.progressChunk=u;for(var l=0;l<o.children.length;++l)o.children[l].progressChunk=u}return this._queue.push(this.resources[e]),this}},{key:"pre",value:function(e){return this._beforeMiddleware.push(e),this}},{key:"use",value:function(e){return this._afterMiddleware.push(e),this}},{key:"reset",value:function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this}},{key:"load",value:function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this}},{key:"_prepareUrl",value:function(e){var t=(0,d.default)(e,{strictMode:!0}),r=void 0;if(r=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var n=v.exec(r)[0];r=r.substr(0,r.length-n.length),r+=r.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,r+=n}return r}},{key:"_loadResource",value:function(e,t){var r=this;e._dequeue=t,f.eachSeries(this._beforeMiddleware,function(t,n){t.call(r,e,function(){n(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())})}},{key:"_onComplete",value:function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)}},{key:"_onLoad",value:function(e){var t=this;e._onLoadBinding=null,f.eachSeries(this._afterMiddleware,function(r,n){r.call(t,e,n)},function(){e.onAfterMiddleware.dispatch(e),t.progress+=e.progressChunk,t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),e._dequeue(),t._queue.idle()&&(t.progress=E,t._onComplete())})}}]),e}();t.default=g},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n,i){void 0===n&&(n=!1),r(this,e),this._fn=t,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return i(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),s=function(){function e(){r(this,e),this._head=this._tail=void 0}return i(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new o(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new o(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=o,t.default=s,e.exports=t.default},function(e,t){"use strict";e.exports=function(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}},function(e,t){"use strict";function r(){}function n(e,t,r){var n=0,i=e.length;!function o(s){return s||n===i?void(r&&r(s)):void t(e[n++],o)}()}function i(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function o(e,t){function n(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(a.started=!0,null==e&&a.idle())return void setTimeout(function(){return a.drain()},1);var i={data:e,callback:"function"==typeof n?n:r};t?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}function o(e){return function(){s-=1,e.callback.apply(e,arguments),null!=arguments[0]&&a.error(arguments[0],e.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:t,saturated:r,unsaturated:r,buffer:t/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){s=0,a.drain=r,a.started=!1,a._tasks=[]},unshift:function(e,t){n(e,!0,t)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var t=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),e(t.data,i(o(t)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var e=1;e<=a.concurrency;e++)a.process()}}};return a}Object.defineProperty(t,"__esModule",{value:!0}),t.eachSeries=n,t.queue=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){}function s(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function a(e){return e.toString().replace("object ","")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(5),h=n(l),d=r(4),c=n(d),f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,_=0,E=200,v=204,g=function(){function e(t,r,n){if(i(this,e),"string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return u(e,null,[{key:"setExtensionLoadType",value:function(t,r){s(e._loadTypeMap,t,r)}},{key:"setExtensionXhrType",value:function(t,r){s(e._xhrTypeMap,t,r)}}]),u(e,[{key:"complete",value:function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)}},{key:"abort",value:function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}}},{key:"load",value:function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}}}},{key:"_hasFlag",value:function(e){return!!(this._flags&e)}},{key:"_setFlag",value:function(e,t){this._flags=t?this._flags|e:this._flags&~e}},{key:"_loadElement",value:function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)}},{key:"_loadSourceElement",value:function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)return void this.abort("Unsupported element: "+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}},{key:"_loadXhr",value:function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()}},{key:"_loadXdr",value:function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)}},{key:"_createSource",value:function(e,t,r){r||(r=e+"/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=r,n}},{key:"_onError",value:function(e){this.abort("Failed to load element using: "+e.target.nodeName)}},{key:"_onProgress",value:function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)}},{key:"_xhrOnError",value:function(){var e=this.xhr;this.abort(a(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')}},{key:"_xhrOnAbort",value:function(){this.abort(a(this.xhr)+" Request was aborted by the user.")}},{key:"_xdrOnTimeout",value:function(){this.abort(a(this.xhr)+" Request timed out.")}},{key:"_xhrOnLoad",value:function(){var t=this.xhr,r="undefined"==typeof t.status?t.status:E;if(!(r===E||r===v||r===_&&t.responseText.length>0))return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=t.responseText,this.data=i}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||t.responseText;this.complete()}},{key:"_determineCrossOrigin",value:function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,p||(p=document.createElement("a")),p.href=e,e=(0,h.default)(p.href,{strictMode:!0});var r=!e.port&&""===t.port||e.port===t.port,n=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&n===t.protocol?"":"anonymous"}},{key:"_determineXhrType",value:function(){return e._xhrTypeMap[this._getExtension()]||e.XHR_RESPONSE_TYPE.TEXT}},{key:"_determineLoadType",value:function(){return e._loadTypeMap[this._getExtension()]||e.LOAD_TYPE.XHR}},{key:"_getExtension",value:function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var n=e.indexOf("?");n!==-1&&(e=e.substring(0,n)),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()}},{key:"_getMimeFromXhrType",value:function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}}},{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();t.default=g,g.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},g.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},g.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},g.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},g._loadTypeMap={gif:g.LOAD_TYPE.IMAGE,png:g.LOAD_TYPE.IMAGE,bmp:g.LOAD_TYPE.IMAGE,jpg:g.LOAD_TYPE.IMAGE,jpeg:g.LOAD_TYPE.IMAGE,tif:g.LOAD_TYPE.IMAGE,tiff:g.LOAD_TYPE.IMAGE,webp:g.LOAD_TYPE.IMAGE,tga:g.LOAD_TYPE.IMAGE,svg:g.LOAD_TYPE.IMAGE,"svg+xml":g.LOAD_TYPE.IMAGE,mp3:g.LOAD_TYPE.AUDIO,ogg:g.LOAD_TYPE.AUDIO,wav:g.LOAD_TYPE.AUDIO,mp4:g.LOAD_TYPE.VIDEO,webm:g.LOAD_TYPE.VIDEO},g._xhrTypeMap={xhtml:g.XHR_RESPONSE_TYPE.DOCUMENT,html:g.XHR_RESPONSE_TYPE.DOCUMENT,htm:g.XHR_RESPONSE_TYPE.DOCUMENT,xml:g.XHR_RESPONSE_TYPE.DOCUMENT,tmx:g.XHR_RESPONSE_TYPE.DOCUMENT,svg:g.XHR_RESPONSE_TYPE.DOCUMENT,tsx:g.XHR_RESPONSE_TYPE.DOCUMENT,gif:g.XHR_RESPONSE_TYPE.BLOB,png:g.XHR_RESPONSE_TYPE.BLOB,bmp:g.XHR_RESPONSE_TYPE.BLOB,jpg:g.XHR_RESPONSE_TYPE.BLOB,jpeg:g.XHR_RESPONSE_TYPE.BLOB,tif:g.XHR_RESPONSE_TYPE.BLOB,tiff:g.XHR_RESPONSE_TYPE.BLOB,webp:g.XHR_RESPONSE_TYPE.BLOB,tga:g.XHR_RESPONSE_TYPE.BLOB,json:g.XHR_RESPONSE_TYPE.JSON,text:g.XHR_RESPONSE_TYPE.TEXT,txt:g.XHR_RESPONSE_TYPE.TEXT,ttf:g.XHR_RESPONSE_TYPE.BUFFER,otf:g.XHR_RESPONSE_TYPE.BUFFER},g.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(e,t){"use strict";function r(e){for(var t="",r=0;r<e.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<e.length?i[s]=255&e.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(e.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)t+=n.charAt(o[u])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBinary=r;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e,t,r){(function(e){"use strict";function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(10))},function(e,t){"use strict";function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){_&&f&&(_=!1,f.length?p=f.concat(p):E=-1,p.length&&a())}function a(){if(!_){var e=i(s);_=!0;for(var t=p.length;t;){for(f=p,p=[];++E<t;)f&&f[E].run();E=-1,t=p.length}f=null,_=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var h,d,c=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var f,p=[],_=!1,E=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new u(e,t)),1!==p.length||_||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=l,c.addListener=l,c.once=l,c.off=l,c.removeListener=l,c.removeAllListeners=l,c.emit=l,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),o=r(9),s=n(o),a=1e3;t.default=function(e){return function(t,r,n){var o=void 0,u=r.name+"_texture_atlas_image";if(!(r.data&&r.type===i.Resource.TYPE.JSON&&r.data.frames&&r.metadata&&r.metadata.textureAtlas))return n();var l={crossOrigin:r.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:{pixiTexture:!0},parentResource:r};o=r.isDataUrl?r.data.meta.image:s.default.dirname(r.url.replace(t.loader.baseUrl,""))+"/"+r.data.meta.image,t.loadPixiTexture({name:u,url:o,options:l,onLoad:function(t){function i(t,n){for(var i=t;i-t<n&&i<h.length;){var o=h[i],s=l[o].frame;if(s){var a=null,u=null,f=new e.Rectangle(0,0,l[o].sourceSize.w/c,l[o].sourceSize.h/c);a=l[o].rotated?new e.Rectangle(s.x/c,s.y/c,s.h/c,s.w/c):new e.Rectangle(s.x/c,s.y/c,s.w/c,s.h/c),l[o].trimmed&&(u=new e.Rectangle(l[o].spriteSourceSize.x/c,l[o].spriteSourceSize.y/c,s.w/c,s.h/c)),r.textures[o]=new e.Texture(d,a,f,u,l[o].rotated?2:0),e.utils.TextureCache[o]=r.textures[o]}i++}}function o(){return p*a<h.length}function s(e){i(p*a,a),p++,setTimeout(e,0)}function u(){s(function(){o()?u():n()})}r.textures={};var l=r.data.frames,h=Object.keys(l),d=t.texture.baseTexture,c=e.utils.getResolutionOfUrl(r.url),f=r.data.meta.scale;1===c&&void 0!==f&&1!==f&&(d.resolution=c=f,d.update());var p=0;h.length<=a?(i(0,a),n()):u()}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.default=function(e){return function(t,r,i){if(r.data&&r.type===n.Resource.TYPE.IMAGE&&r.metadata&&r.metadata.pixiTexture){var o=new e.BaseTexture(r.data,null,e.utils.getResolutionOfUrl(r.url));o.imageUrl=r.url,r.texture=new e.Texture(o),e.utils.BaseTextureCache[r.name]=o,e.utils.TextureCache[r.name]=r.texture,r.name!==r.url&&(e.utils.BaseTextureCache[r.url]=o,e.utils.TextureCache[r.url]=r.texture)}return i()}}},function(e,t){if("undefined"==typeof PIXI){var r=new Error('Cannot find module "PIXI"');throw r.code="MODULE_NOT_FOUND",r}e.exports=PIXI},function(e,t){if("undefined"==typeof Howl){var r=new Error('Cannot find module "Howl"');throw r.code="MODULE_NOT_FOUND",r}e.exports=Howl}]);